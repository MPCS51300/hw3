#

extern int getarg(int);
extern float getargf(int);

def int fib (int $n) {
    if ($n < 1)
        if ($n == 0)
            return 0;
        else
            return 1;
    
    int $a = fib ($n - 1);
    int $b = fib ($n - 2);
    return $a + $b;
}
def void inc (ref int $n) {
  $n = $n + 1;
}
def void things (ref int $n) {
 bool $f=true;
  while (!($n > 100)) {
    $n = $n * $n - 1;
  }
}

def int run () {
    # float $a = getargf(0);
    # float $b = getargf(1);
    # int $c = getarg(2);
    # print $a;
    # print $b;
    # print $c;

    # Check casting
    int $d = 1;
    print "$d";
    print $d;
    # float $e = [float] $d;
    # print "$e";
    # print $e;

    # Check casting
    float $e = 2.2;
    print "$e";
    print $e;
    $d = [int] $e;
    print "$d";
    print $d;

    # Check noalias working?
    noalias ref int $f = 1;
    inc($f);
    print $f;

    int $val = fib(5);
    inc($val);
    things($val);
    print $val;
    print $val+1;
    print true;
    print false;
    print "hello";
    print "kitty !";
    return 0;
}

