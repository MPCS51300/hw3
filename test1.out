; ModuleID = '<string>'
source_filename = "<string>"
target datalayout = "e-m:e-i64:64-f80:128-n8:16:32:64-S128"
target triple = "unknown-unknown-unknown"

@fstr_int = internal constant [4 x i8] c"%d\0A\00"
@fstr_slit = internal constant [4 x i8] c"%s\0A\00"

declare i32 @printf(i8*, ...)

declare i32 @getarg(i32)

declare float @getargf(i32)

define i32 @fib(i32 %.1) {
entry:
  %.3 = alloca i32
  store i32 %.1, i32* %.3
  %.5 = load i32, i32* %.3
  %.6 = icmp slt i32 %.5, 1
  br i1 %.6, label %entry.if, label %entry.endif

entry.if:                                         ; preds = %entry
  %.8 = load i32, i32* %.3
  %.9 = icmp eq i32 %.8, 0
  br i1 %.9, label %entry.if.if, label %entry.if.else

entry.endif:                                      ; preds = %entry
  %.14 = alloca i32
  %.15 = load i32, i32* %.3
  %.16 = sub i32 %.15, 1
  %.17 = call i32 @fib(i32 %.16)
  store i32 %.17, i32* %.14
  %.19 = alloca i32
  %.20 = load i32, i32* %.3
  %.21 = sub i32 %.20, 2
  %.22 = call i32 @fib(i32 %.21)
  store i32 %.22, i32* %.19
  %.24 = load i32, i32* %.14
  %.25 = load i32, i32* %.19
  %.26 = add i32 %.24, %.25
  ret i32 %.26

entry.if.if:                                      ; preds = %entry.if
  ret i32 0

entry.if.else:                                    ; preds = %entry.if
  ret i32 1
}

define void @inc(i32* %.1) {
entry:
  %.3 = load i32, i32* %.1
  %.4 = add i32 %.3, 1
  store i32 %.4, i32* %.1
  ret void
}

define void @things(i32* %.1) {
entry:
  %.3 = alloca i1
  store i1 true, i1* %.3
  br label %loop.header

loop.header:                                      ; preds = %loop.body, %entry
  %.6 = load i32, i32* %.1
  %.7 = icmp sgt i32 %.6, 100
  %.8 = xor i1 %.7, true
  br i1 %.8, label %loop.body, label %loop.end

loop.body:                                        ; preds = %loop.header
  %.10 = load i32, i32* %.1
  %.11 = load i32, i32* %.1
  %.12 = mul i32 %.10, %.11
  %.13 = sub i32 %.12, 1
  store i32 %.13, i32* %.1
  br label %loop.header

loop.end:                                         ; preds = %loop.header
  ret void
}

define i32 @run() {
entry:
  %.2 = alloca i32
  %.3 = call i32 @fib(i32 5)
  store i32 %.3, i32* %.2
  call void @inc(i32* %.2)
  call void @things(i32* %.2)
  %.7 = load i32, i32* %.2
  %.8 = bitcast [4 x i8]* @fstr_int to i8*
  %.9 = call i32 (i8*, ...) @printf(i8* %.8, i32 %.7)
  %.10 = alloca [11 x i8]
  store [11 x i8] c"hello kitty", [11 x i8]* %.10
  %.12 = bitcast [4 x i8]* @fstr_int to i8*
  %.13 = load [11 x i8], [11 x i8]* %.10
  %.14 = call i32 (i8*, ...) @printf(i8* %.12, [11 x i8] %.13)
  ret i32 0
}

; Function Attrs: nounwind
declare void @llvm.stackprotector(i8*, i8**) #0

attributes #0 = { nounwind }
